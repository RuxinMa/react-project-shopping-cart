{"ast":null,"code":"import Narbar from\"./components/Narbar\";import CartContainer from\"./components/CartContainer\";import Modal from\"./components/Modal\";import{useDispatch,useSelector}from\"react-redux\";import{calculateTotals,getCartItems}from\"./features/cart/cartSlice\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useSelector=useSelector(function(store){return store.cart;}),cartItems=_useSelector.cartItems,isLoading=_useSelector.isLoading;var _useSelector2=useSelector(function(store){return store.modal;}),isOpen=_useSelector2.isOpen;var dispatch=useDispatch();useEffect(function(){dispatch(calculateTotals());},[cartItems,dispatch]);useEffect(function(){dispatch(getCartItems());},[dispatch]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"})});}return/*#__PURE__*/_jsxs(\"main\",{children:[isOpen&&/*#__PURE__*/_jsx(Modal,{}),/*#__PURE__*/_jsx(Narbar,{}),/*#__PURE__*/_jsx(CartContainer,{})]});}export default App;","map":{"version":3,"names":["Narbar","CartContainer","Modal","useDispatch","useSelector","calculateTotals","getCartItems","useEffect","App","store","cart","cartItems","isLoading","modal","isOpen","dispatch"],"sources":["/Users/chenjingwen/Desktop/React/05-shopping-cart/src/App.js"],"sourcesContent":["import Narbar from \"./components/Narbar\";\nimport CartContainer from \"./components/CartContainer\";\nimport Modal from \"./components/Modal\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { calculateTotals, getCartItems } from \"./features/cart/cartSlice\";\nimport { useEffect } from \"react\";\n\nfunction App() {\n\n  const { cartItems, isLoading } = useSelector((store) => store.cart);\n  const { isOpen } = useSelector((store) => store.modal);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(calculateTotals());\n  }, [cartItems, dispatch]);\n\n  useEffect(() => {\n    dispatch(getCartItems())\n  },[dispatch])\n\n  if (isLoading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    );\n  }\n\n  return(\n    <main>\n      {isOpen && <Modal />}\n      <Narbar />\n      <CartContainer />\n    </main> \n  );\n}\n\nexport default App;"],"mappings":"AAAA,MAAOA,OAAM,KAAM,qBAAqB,CACxC,MAAOC,cAAa,KAAM,4BAA4B,CACtD,MAAOC,MAAK,KAAM,oBAAoB,CAEtC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,eAAe,CAAEC,YAAY,KAAQ,2BAA2B,CACzE,OAASC,SAAS,KAAQ,OAAO,CAAC,wFAElC,QAASC,IAAG,EAAG,CAEb,iBAAiCJ,WAAW,CAAC,SAACK,KAAK,QAAKA,MAAK,CAACC,IAAI,GAAC,CAA3DC,SAAS,cAATA,SAAS,CAAEC,SAAS,cAATA,SAAS,CAC5B,kBAAmBR,WAAW,CAAC,SAACK,KAAK,QAAKA,MAAK,CAACI,KAAK,GAAC,CAA9CC,MAAM,eAANA,MAAM,CACd,GAAMC,SAAQ,CAAGZ,WAAW,EAAE,CAE9BI,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACV,eAAe,EAAE,CAAC,CAC7B,CAAC,CAAE,CAACM,SAAS,CAAEI,QAAQ,CAAC,CAAC,CAEzBR,SAAS,CAAC,UAAM,CACdQ,QAAQ,CAACT,YAAY,EAAE,CAAC,CAC1B,CAAC,CAAC,CAACS,QAAQ,CAAC,CAAC,CAEb,GAAIH,SAAS,CAAE,CACb,mBACE,YAAK,SAAS,CAAC,SAAS,uBACtB,kCAAmB,EACf,CAEV,CAEA,mBACE,wBACGE,MAAM,eAAI,KAAC,KAAK,IAAG,cACpB,KAAC,MAAM,IAAG,cACV,KAAC,aAAa,IAAG,GACZ,CAEX,CAEA,cAAeN,IAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}